<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>fairair - Velocity Experience</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&family=Noto+Kufi+Arabic:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #8e44ad;
            --bg-deep: #120521; /* Deep Purple Black */
            --bg-card: rgba(255, 255, 255, 0.05);
            --bg-glass: rgba(255, 255, 255, 0.1);
            --accent: #ccff00; /* Neon Lime */
            --text-main: #ffffff;
            --text-muted: rgba(255, 255, 255, 0.6);
            --border-glass: rgba(255, 255, 255, 0.1);
            --shadow-neon: 0 0 20px rgba(101, 45, 144, 0.4);
            --transition: cubic-bezier(0.2, 0.0, 0.2, 1) 0.4s;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body {
            font-family: 'Space Grotesk', sans-serif;
            background-color: var(--bg-deep);
            color: var(--text-main);
            min-height: 100vh;
            overflow-x: hidden;
            transition: background 0.5s ease;
        }

        body.rtl { font-family: 'Noto Kufi Arabic', sans-serif; direction: rtl; }

        /* --- DYNAMIC BACKGROUNDS --- */
        .bg-gradient {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle at 10% 20%, #2e0c45 0%, var(--bg-deep) 70%);
            z-index: -2; transition: opacity 1s ease;
        }
        
        .destination-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-size: cover; background-position: center;
            opacity: 0; transition: opacity 1s ease, transform 10s linear;
            z-index: -1; filter: brightness(0.4) saturate(1.2); transform: scale(1.1);
        }
        .destination-bg.active { opacity: 1; transform: scale(1); }

        /* --- HEADER --- */
        header {
            padding: 24px 40px; display: flex; justify-content: space-between; align-items: center;
            position: fixed; top: 0; left: 0; right: 0; z-index: 100;
            background: linear-gradient(to bottom, rgba(18,5,33,0.8) 0%, transparent 100%);
        }
        .brand { font-size: 1.5rem; font-weight: 700; letter-spacing: -0.05em; display: flex; align-items: center; gap: 10px; }
        .brand svg { width: 28px; height: 28px; fill: var(--accent); }
        
        .nav-btn {
            background: transparent; border: 1px solid var(--border-glass); color: white;
            padding: 8px 20px; border-radius: 50px; font-size: 0.9rem; font-weight: 500;
            backdrop-filter: blur(10px); cursor: pointer; transition: 0.3s;
        }
        .nav-btn:hover { background: var(--accent); color: black; border-color: var(--accent); }

        /* --- HERO SECTION (Natural Language Input) --- */
        .hero-container {
            min-height: 100vh; display: flex; flex-direction: column; justify-content: center;
            padding: 0 40px; max-width: 1400px; margin: 0 auto; position: relative;
        }

        .hero-title {
            font-size: 4rem; line-height: 1.1; font-weight: 300; max-width: 900px;
            margin-bottom: 40px; opacity: 0; animation: fadeUp 0.8s forwards 0.2s;
        }

        /* The Sentence Builder */
        .sentence-wrapper {
            font-size: 2.5rem; line-height: 1.6; font-weight: 300;
            max-width: 1000px; opacity: 0; animation: fadeUp 0.8s forwards 0.4s;
        }

        .magic-input {
            display: inline-block; position: relative;
            color: var(--accent); font-weight: 700; border-bottom: 2px solid rgba(204, 255, 0, 0.3);
            cursor: pointer; transition: 0.3s; white-space: nowrap;
        }
        .magic-input:hover { border-bottom-color: var(--accent); text-shadow: 0 0 15px rgba(204, 255, 0, 0.3); }
        
        /* Hidden Selects overlaid on top */
        .hidden-select {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            opacity: 0; cursor: pointer; font-size: 16px; /* Prevents zoom on mobile */
        }
        
        /* Floating Action Button */
        .launch-btn {
            margin-top: 60px;
            width: 80px; height: 80px; border-radius: 50%;
            background: var(--accent); border: none; cursor: pointer;
            display: flex; justify-content: center; align-items: center;
            box-shadow: 0 0 30px rgba(204, 255, 0, 0.2);
            transition: var(--transition); opacity: 0; animation: fadeUp 0.8s forwards 0.6s;
        }
        .launch-btn:hover { transform: scale(1.1); box-shadow: 0 0 50px rgba(204, 255, 0, 0.5); }
        .launch-btn svg { width: 32px; height: 32px; stroke: black; stroke-width: 2.5; fill: none; }
        .launch-btn:disabled { background: #333; cursor: not-allowed; box-shadow: none; }
        .launch-btn:disabled svg { stroke: #666; }

        /* --- RESULTS OVERLAY --- */
        .results-overlay {
            position: fixed; inset: 0; z-index: 50;
            background: rgba(18, 5, 33, 0.95);
            backdrop-filter: blur(20px);
            transform: translateY(100%); transition: transform 0.6s cubic-bezier(0.7, 0, 0.3, 1);
            padding: 100px 40px 40px; overflow-y: auto;
        }
        .results-overlay.active { transform: translateY(0); }

        .results-header {
            display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 40px;
            border-bottom: 1px solid var(--border-glass); padding-bottom: 20px;
        }
        .flight-path { font-size: 3rem; font-weight: 700; color: white; }
        .flight-date { font-size: 1.2rem; color: var(--accent); font-family: 'Space Mono', monospace; }

        /* Holographic Cards */
        .flight-grid {
            display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 24px;
        }

        .glass-card {
            background: var(--bg-glass); border: 1px solid var(--border-glass);
            border-radius: 20px; padding: 24px; position: relative;
            transition: var(--transition); cursor: pointer; overflow: hidden;
        }
        .glass-card::before {
            content: ''; position: absolute; inset: 0;
            background: linear-gradient(45deg, transparent, rgba(255,255,255,0.05), transparent);
            transform: translateX(-100%); transition: 0.5s;
        }
        .glass-card:hover { 
            background: rgba(255,255,255,0.15); transform: translateY(-5px); 
            border-color: rgba(255,255,255,0.3);
            box-shadow: 0 10px 40px rgba(0,0,0,0.3); 
        }
        .glass-card:hover::before { transform: translateX(100%); }
        
        .glass-card.selected {
            border-color: var(--accent); box-shadow: 0 0 30px rgba(204, 255, 0, 0.1);
            background: rgba(204, 255, 0, 0.05);
        }

        .card-times { display: flex; justify-content: space-between; margin-bottom: 20px; }
        .time-big { font-size: 2rem; font-weight: 700; line-height: 1; }
        .airport-code { font-size: 0.9rem; opacity: 0.6; margin-top: 4px; }
        
        .visual-route { 
            height: 1px; background: rgba(255,255,255,0.2); flex: 1; margin: 15px 20px 0; position: relative; 
        }
        .visual-route::after {
            content: ''; position: absolute; width: 6px; height: 6px; background: var(--accent);
            border-radius: 50%; top: -3px; left: 50%; box-shadow: 0 0 10px var(--accent);
        }

        .card-footer { display: flex; justify-content: space-between; align-items: flex-end; margin-top: 20px; }
        .price-display { font-size: 1.8rem; font-weight: 700; color: var(--accent); }
        .duration-lbl { font-size: 0.8rem; opacity: 0.7; }

        /* Fares Mini-Grid inside card */
        .fares-grid {
            display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 8px; margin-top: 20px;
            max-height: 0; overflow: hidden; transition: 0.4s ease; opacity: 0;
        }
        .glass-card.expanded .fares-grid { max-height: 200px; opacity: 1; margin-top: 24px; border-top: 1px dashed rgba(255,255,255,0.2); padding-top: 20px; }
        
        .mini-fare {
            background: rgba(0,0,0,0.2); padding: 10px; border-radius: 12px; text-align: center;
            border: 1px solid transparent; transition: 0.2s;
        }
        .mini-fare:hover { background: var(--accent); color: black; }
        .mini-fare-title { font-size: 0.7rem; text-transform: uppercase; font-weight: 700; letter-spacing: 1px; }
        .mini-fare-price { font-size: 0.9rem; font-weight: 700; margin-top: 4px; }


        /* --- RESPONSIVE MOBILE --- */
        @media (max-width: 768px) {
            .hero-title { font-size: 2.5rem; }
            .sentence-wrapper { font-size: 1.5rem; }
            .hero-container { padding: 0 24px; }
            .results-overlay { padding: 80px 20px 20px; }
            .flight-path { font-size: 2rem; }
            .magic-input { border-bottom-width: 1px; }
            .launch-btn { width: 64px; height: 64px; margin-top: 40px; }
        }

        @keyframes fadeUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }

        .d-none { display: none !important; }
    </style>
</head>
<body>

    <!-- Dynamic Backgrounds -->
    <div class="bg-gradient"></div>
    <div id="bg-jed" class="destination-bg" style="background-image: url('https://images.unsplash.com/photo-1565552635957-c322b6278839?q=80&w=2000&auto=format&fit=crop');"></div>
    <div id="bg-dxb" class="destination-bg" style="background-image: url('https://images.unsplash.com/photo-1512453979798-5ea936a79402?q=80&w=2000&auto=format&fit=crop');"></div>
    <div id="bg-cai" class="destination-bg" style="background-image: url('https://images.unsplash.com/photo-1572252009286-268acec5ca0a?q=80&w=2000&auto=format&fit=crop');"></div>

    <header>
        <div class="brand">
            <svg viewBox="0 0 24 24"><path d="M21,16V14L13,9V3.5A1.5,1.5 0 0,0 11.5,2A1.5,1.5 0 0,0 10,3.5V9L2,14V16L10,13.5V19L8,20.5V22L11.5,21L15,22V20.5L13,19V13.5L21,16Z"/></svg>
            fairair
        </div>
        <button class="nav-btn" onclick="toggleLang()">عربي</button>
    </header>

    <!-- MAIN INTERFACE -->
    <div class="hero-container">
        <h1 class="hero-title" data-i18n="intro">Let's go somewhere.</h1>
        
        <div class="sentence-wrapper">
            <span data-i18n="part1">I want to fly from</span>
            
            <div class="magic-input">
                <span id="label-origin">Riyadh</span>
                <select id="input-origin" class="hidden-select" onchange="updateOrigin()">
                    <option value="RUH" selected>Riyadh</option>
                    <option value="JED">Jeddah</option>
                    <option value="DMM">Dammam</option>
                </select>
            </div>
            
            <span data-i18n="part2">to</span>
            
            <div class="magic-input">
                <span id="label-dest" style="opacity: 0.5;">Select City</span>
                <select id="input-dest" class="hidden-select" onchange="updateDest()">
                    <option value="" disabled selected>Select City</option>
                    <!-- Populated by JS -->
                </select>
            </div>
            
            <br><span data-i18n="part3">departing on</span>
            
            <div class="magic-input">
                <span id="label-date">Dec 01</span>
                <input type="date" id="input-date" class="hidden-select" value="2025-12-01" onchange="updateDate()">
            </div>
            
            <span data-i18n="part4">with</span>
            
             <div class="magic-input">
                <span id="label-pax">1 Adult</span>
                <select id="input-pax" class="hidden-select" onchange="updatePax()">
                    <option value="1">1 Adult</option>
                    <option value="2">2 Adults</option>
                </select>
            </div>.
        </div>

        <button id="launch-btn" class="launch-btn" onclick="launchSearch()" disabled>
            <svg viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"></line><polyline points="12 5 19 12 12 19"></polyline></svg>
        </button>
    </div>

    <!-- RESULTS OVERLAY -->
    <div id="results-layer" class="results-overlay">
        <div class="results-header">
            <div>
                <div class="flight-date" id="res-date">MON, 01 DEC</div>
                <div class="flight-path" id="res-path">RUH <span style="opacity:0.3; font-size:0.5em">➝</span> DXB</div>
            </div>
            <button class="nav-btn" onclick="closeResults()">Close</button>
        </div>

        <div class="flight-grid">
            <!-- Flight 1 -->
            <div class="glass-card" onclick="toggleCard(this)">
                <div class="card-times">
                    <div>
                        <div class="time-big">08:00</div>
                        <div class="airport-code" id="code-origin-1">RUH</div>
                    </div>
                    <div class="visual-route"></div>
                    <div style="text-align: right;">
                        <div class="time-big">09:40</div>
                        <div class="airport-code" id="code-dest-1">DXB</div>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="duration-lbl">1h 40m • Direct</div>
                    <div class="price-display">259 SAR</div>
                </div>
                
                <div class="fares-grid">
                    <div class="mini-fare">
                        <div class="mini-fare-title">fly</div>
                        <div class="mini-fare-price">259</div>
                    </div>
                    <div class="mini-fare">
                        <div class="mini-fare-title">fly+</div>
                        <div class="mini-fare-price">359</div>
                    </div>
                     <div class="mini-fare">
                        <div class="mini-fare-title">flyMax</div>
                        <div class="mini-fare-price">499</div>
                    </div>
                </div>
            </div>

            <!-- Flight 2 -->
            <div class="glass-card" onclick="toggleCard(this)">
                <div class="card-times">
                    <div>
                        <div class="time-big">14:00</div>
                        <div class="airport-code" id="code-origin-2">RUH</div>
                    </div>
                    <div class="visual-route"></div>
                    <div style="text-align: right;">
                        <div class="time-big">15:40</div>
                        <div class="airport-code" id="code-dest-2">DXB</div>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="duration-lbl">1h 40m • Direct</div>
                    <div class="price-display">310 SAR</div>
                </div>
                
                <div class="fares-grid">
                    <div class="mini-fare">
                        <div class="mini-fare-title">fly</div>
                        <div class="mini-fare-price">310</div>
                    </div>
                    <div class="mini-fare">
                        <div class="mini-fare-title">fly+</div>
                        <div class="mini-fare-price">410</div>
                    </div>
                     <div class="mini-fare">
                        <div class="mini-fare-title">flyMax</div>
                        <div class="mini-fare-price">550</div>
                    </div>
                </div>
            </div>
            
            <!-- Flight 3 -->
            <div class="glass-card" onclick="toggleCard(this)">
                <div class="card-times">
                    <div>
                        <div class="time-big">20:30</div>
                        <div class="airport-code" id="code-origin-3">RUH</div>
                    </div>
                    <div class="visual-route"></div>
                    <div style="text-align: right;">
                        <div class="time-big">22:10</div>
                        <div class="airport-code" id="code-dest-3">DXB</div>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="duration-lbl">1h 40m • Direct</div>
                    <div class="price-display">199 SAR</div>
                </div>
                
                <div class="fares-grid">
                    <div class="mini-fare">
                        <div class="mini-fare-title">fly</div>
                        <div class="mini-fare-price">199</div>
                    </div>
                    <div class="mini-fare">
                        <div class="mini-fare-title">fly+</div>
                        <div class="mini-fare-price">299</div>
                    </div>
                     <div class="mini-fare">
                        <div class="mini-fare-title">flyMax</div>
                        <div class="mini-fare-price">450</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const routes = {
            'RUH': ['JED', 'DMM', 'DXB', 'CAI', 'LHR'],
            'JED': ['RUH', 'DMM', 'CAI', 'LHR'],
            'DMM': ['RUH', 'JED', 'DXB']
        };
        const cityNames = {
            'RUH': 'Riyadh', 'JED': 'Jeddah', 'DMM': 'Dammam', 'DXB': 'Dubai', 'CAI': 'Cairo', 'LHR': 'London'
        };

        // --- Logic ---
        
        function init() {
            populateDestinations('RUH');
        }

        function populateDestinations(origin) {
            const destSelect = document.getElementById('input-dest');
            destSelect.innerHTML = '<option value="" disabled selected>Select City</option>';
            
            if(routes[origin]) {
                routes[origin].forEach(code => {
                    const opt = document.createElement('option');
                    opt.value = code;
                    opt.text = cityNames[code];
                    destSelect.appendChild(opt);
                });
            }
        }

        function updateOrigin() {
            const val = document.getElementById('input-origin').value;
            document.getElementById('label-origin').innerText = cityNames[val];
            
            // Reset Destination
            document.getElementById('input-dest').value = "";
            document.getElementById('label-dest').innerText = "Select City";
            document.getElementById('label-dest').style.opacity = "0.5";
            document.getElementById('launch-btn').disabled = true;
            
            // Remove bg
            document.querySelectorAll('.destination-bg').forEach(bg => bg.classList.remove('active'));
            
            populateDestinations(val);
        }

        function updateDest() {
            const val = document.getElementById('input-dest').value;
            document.getElementById('label-dest').innerText = cityNames[val];
            document.getElementById('label-dest').style.opacity = "1";
            document.getElementById('launch-btn').disabled = false;

            // Change Background
            document.querySelectorAll('.destination-bg').forEach(bg => bg.classList.remove('active'));
            if(val === 'JED') document.getElementById('bg-jed').classList.add('active');
            if(val === 'DXB') document.getElementById('bg-dxb').classList.add('active');
            if(val === 'CAI') document.getElementById('bg-cai').classList.add('active');
        }

        function updateDate() {
            const dateObj = new Date(document.getElementById('input-date').value);
            const options = { month: 'short', day: 'numeric' };
            document.getElementById('label-date').innerText = dateObj.toLocaleDateString('en-US', options);
        }

        function updatePax() {
            const val = document.getElementById('input-pax').value;
            const text = val === '1' ? '1 Adult' : val + ' Adults';
            document.getElementById('label-pax').innerText = text;
        }

        function launchSearch() {
            const origin = document.getElementById('input-origin').value;
            const dest = document.getElementById('input-dest').value;
            
            // Update Results Header
            document.getElementById('res-path').innerHTML = `${origin} <span style="opacity:0.3; font-size:0.5em">➝</span> ${dest}`;
            
            // Update Card Codes
            ['1','2','3'].forEach(i => {
                document.getElementById(`code-origin-${i}`).innerText = origin;
                document.getElementById(`code-dest-${i}`).innerText = dest;
            });

            document.getElementById('results-layer').classList.add('active');
        }

        function closeResults() {
            document.getElementById('results-layer').classList.remove('active');
        }

        function toggleCard(card) {
            document.querySelectorAll('.glass-card').forEach(c => c.classList.remove('expanded'));
            card.classList.toggle('expanded');
        }

        let isRTL = false;
        function toggleLang() {
            isRTL = !isRTL;
            document.body.classList.toggle('rtl', isRTL);
            
            // Simple text swap demo
            if(isRTL) {
                document.querySelector('.nav-btn').innerText = "English";
                document.querySelector('[data-i18n="intro"]').innerText = "وين ودك تسافر؟";
                document.querySelector('[data-i18n="part1"]').innerText = "أبي أسافر من";
                document.querySelector('[data-i18n="part2"]').innerText = "إلى";
                document.querySelector('[data-i18n="part3"]').innerText = "بتاريخ";
                document.querySelector('[data-i18n="part4"]').innerText = "لعدد";
            } else {
                document.querySelector('.nav-btn').innerText = "عربي";
                document.querySelector('[data-i18n="intro"]').innerText = "Let's go somewhere.";
                document.querySelector('[data-i18n="part1"]').innerText = "I want to fly from";
                document.querySelector('[data-i18n="part2"]').innerText = "to";
                document.querySelector('[data-i18n="part3"]').innerText = "departing on";
                document.querySelector('[data-i18n="part4"]').innerText = "with";
            }
        }

        init();
    </script>
</body>
</html>